(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19440437"],{"0746":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var s=a("83fc");const{logger:o}=a("8a4e"),c=function(e){let t="";const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=a.length;for(let o=0;o<e;o++)t+=a.charAt(Math.floor(Math.random()*s));return o.log(t),t};var l=a("41cb"),n=a("8a4e"),i=a("2b20");class d{async getQuests(){const e=await i["a"].get("api/quests/");s["a"].quests=e.data}async createQuest(e){e.accessCode=c(5);const t=await i["a"].post("api/quests/",e);return this.getQuests(),s["a"].quests.push(t.data),s["a"].activeQuest=t.data,n["logger"].log(t.data,s["a"].activeQuest,"setting active quest"),t.data.id}async questJoinable(e,t){const a={isJoinable:t},s=await i["a"].put("api/quests/"+e,a);n["logger"].log(s.data,a)}async questActive(e,t){const a={isActive:t},s=await i["a"].put("api/quests/"+e,a);n["logger"].log(s.data,a)}async joinQuest(e){await this.getQuests();const t=s["a"].quests.filter(t=>t.accessCode===e.accessCode);if(n["logger"].log(t),!0!==t[0].isJoinable)return window.alert("This Quest is not Joinable");{const a={questId:t[0].id,accountId:e.accountId};n["logger"].log(t),await i["a"].post("api/userquests",a);const o=await i["a"].get("api/quests/"+t[0].id+"/objectives");s["a"].markers=o.data,n["logger"].log("quest to pull obj",o.data),s["a"].activeQuest=t[0],l["a"].push({name:"MapPage",params:{questid:t[0].id}}),this.formatMarkerInfo()}}formatMarkerInfo(){return s["a"].markers.forEach(e=>{const t={};t.lat=e.location.lat,t.lng=e.location.lng,t.address=e.location.address,t.title=e.title,t.objectiveId=e.id,s["a"].markerInfo.push(t),n["logger"].log("this is the formatted",s["a"].markerInfo)}),s["a"].markerInfo}}const r=new d},"78a7":function(e,t,a){"use strict";a.r(t);var s=a("7a23");const o={class:"container-fluid background"},c={class:"row "},l={class:"col home flex-grow-1 d-flex flex-column align-items-center justify-content-center"},n=Object(s["h"])("button",{class:"customBtn text-light p-3 rounded d-flex align-items-center btn btn-outline","data-toggle":"modal","data-target":"#CreateTitleModal"}," Create Quest ",-1),i={class:"modal fade",id:"CreateTitleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},d={class:"modal-dialog modal-dialog-centered",role:"document"},r={class:"modal-content"},u=Object(s["h"])("div",{class:"modal-header"},[Object(s["h"])("h5",{class:"modal-title text-dark",id:"exampleModalLongTitle"}," Forge a Quest "),Object(s["h"])("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[Object(s["h"])("span",{"aria-hidden":"true"},"×")])],-1),b={class:"modal-body"},h={class:"form-group d-flex"},m=Object(s["h"])("label",{for:""},null,-1),g=Object(s["h"])("div",{class:"row justify-content-center"},[Object(s["h"])("button",{type:"submit",class:"btn forge rounded"}," Forge! ")],-1),j={class:"row"},p={class:"col home flex-grow-1 d-flex flex-column align-items-center justify-content-center"},f=Object(s["h"])("button",{class:" customBtn text-light p-3 rounded d-flex align-items-center btn btn-outline","data-toggle":"modal","data-target":"#JoinQuestModal"}," Join Quest ",-1),O={class:"modal fade",id:"JoinQuestModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},v={class:"modal-dialog modal-dialog-centered",role:"document"},Q={class:"modal-content"},w=Object(s["h"])("div",{class:"modal-header"},[Object(s["h"])("h5",{class:"modal-title text-dark",id:"exampleModalLongTitle"}," Join a Quest "),Object(s["h"])("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[Object(s["h"])("span",{"aria-hidden":"true"},"×")])],-1),y={class:"modal-body"},x={class:"form-group d-flex"},q=Object(s["h"])("label",{for:""},null,-1),I=Object(s["h"])("div",{class:"row justify-content-center"},[Object(s["h"])("button",{type:"submit",class:"btn join rounded"}," Join! ")],-1);function M(e,t,a,M,C,k){return Object(s["r"])(),Object(s["e"])("div",o,[Object(s["h"])("div",c,[Object(s["h"])("div",l,[n,Object(s["h"])("div",i,[Object(s["h"])("div",d,[Object(s["h"])("div",r,[u,Object(s["h"])("div",b,[Object(s["h"])("form",{type:"submit",class:"justify-content-center",onSubmit:t[2]||(t[2]=Object(s["H"])((...e)=>M.createQuest&&M.createQuest(...e),["prevent"]))},[Object(s["h"])("div",h,[m,Object(s["G"])(Object(s["h"])("input",{type:"text",class:"form-control",name:"",id:"","onUpdate:modelValue":t[1]||(t[1]=e=>M.state.newQuest.title=e),"aria-describedby":"helpId",placeholder:"Quest Title"},null,512),[[s["D"],M.state.newQuest.title]])]),g],32)])])])])])]),Object(s["h"])("div",j,[Object(s["h"])("div",p,[f,Object(s["h"])("div",O,[Object(s["h"])("div",v,[Object(s["h"])("div",Q,[w,Object(s["h"])("div",y,[Object(s["h"])("form",{type:"submit",onSubmit:t[4]||(t[4]=Object(s["H"])((...e)=>M.joinQuest&&M.joinQuest(...e),["prevent"]))},[Object(s["h"])("div",x,[q,Object(s["G"])(Object(s["h"])("input",{type:"text",class:"form-control",name:"",id:"","onUpdate:modelValue":t[3]||(t[3]=e=>M.state.codeInput.accessCode=e),"aria-describedby":"helpId",placeholder:"Quest Code"},null,512),[[s["D"],M.state.codeInput.accessCode]])]),I],32)])])])])])])])}var C=a("0746"),k=a("8a4e"),J=a("41cb"),T=a("1157"),A=a.n(T),H=a("83fc"),L={name:"Home",setup(){const e=Object(s["v"])({account:Object(s["c"])(()=>H["a"].account),user:Object(s["c"])(()=>H["a"].user),newQuest:{},codeInput:{accountId:H["a"].account.id}});return{state:e,async createQuest(){try{const t=await C["a"].createQuest(e.newQuest);A()("#CreateTitleModal").modal("hide"),J["a"].push({name:"AddLocationPage",params:{questid:t}})}catch(t){k["logger"].error(t)}},async joinQuest(){try{H["a"].account.id=e.user.id,await C["a"].joinQuest(e.codeInput),A()("#JoinQuestModal").modal("hide")}catch(t){k["logger"].error(t)}}}}};a("ccc0");L.render=M;t["default"]=L},9689:function(e,t,a){},ccc0:function(e,t,a){"use strict";a("9689")}}]);